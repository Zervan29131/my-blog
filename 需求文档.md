个人博客系统需求规格说明书 (PRD)

版本: v1.0
状态: 规划中
技术栈: Vue 3 + TypeScript (前端) / Go + Gin + GORM (后端) / MySQL (数据库)

1. 项目引言 (Introduction)

1.1 背景

本项目旨在构建一个高性能、现代化、易于维护的个人技术博客系统。区别于传统的 WordPress 或 Hexo，该系统采用前后端分离架构，旨在提供极致的用户体验和高度的可定制性，用于分享技术文章、生活感悟及个人作品。

1.2 目标

内容创作: 提供流畅的 Markdown 写作与发布体验。

知识管理: 通过分类、标签高效组织内容。

互动交流: 建立读者与作者的沟通渠道（评论系统）。

数据掌控: 拥有完全的数据所有权和系统扩展能力。

2. 角色定义 (User Roles)

角色

描述

权限范围

访客 (Visitor)

互联网上的普通浏览者

浏览文章、搜索内容、发表评论、分享文章

管理员 (Admin)

博客所有者 (你)

登录后台、管理所有内容 (文章/分类/标签/评论/友链)、系统设置

3. 功能需求 (Functional Requirements)

3.1 前台展示系统 (Visitor Side)

3.1.1 首页

置顶文章: 支持管理员设置特定文章置顶显示。

文章列表: 按时间倒序展示，包含标题、摘要、封面图、发布时间、分类、标签、阅读量。

侧边栏: 展示个人简介、热门文章、标签云、最新评论。

分页/加载: 支持传统分页或“加载更多”模式。

3.1.2 文章详情页

Markdown 渲染: 完美支持标准 Markdown 及 GFM (GitHub Flavored Markdown)。

代码高亮: 支持多种编程语言的语法高亮 (如 Highlight.js 或 Prism.js)，支持一键复制。

目录导航 (TOC): 根据 H1-H6 自动生成侧边目录，支持滚动监听。

版权声明: 自动在文章末尾附加版权与转载声明。

上一篇/下一篇: 方便用户连续阅读。

3.1.3 搜索与归档

全文搜索: 支持标题和内容的关键词搜索（后端 MySQL LIKE 或全文索引）。

归档时间轴: 按年份/月份展示文章归档。

分类/标签页: 点击特定标签展示相关文章列表。

3.1.4 评论系统

发布评论: 支持 Markdown 语法，需输入昵称和邮箱（Gravatar 头像支持）。

回复功能: 支持楼中楼（嵌套）回复。

防垃圾: 简单的验证码或频率限制。

3.2 后台管理系统 (Admin Side)

3.2.1 仪表盘 (Dashboard)

数据概览: 展示总文章数、总阅读量、总评论数、最近 7 天访问趋势图。

快捷入口: 快速新建文章、审核最新评论。

3.2.2 文章管理

编辑器: 集成高级 Markdown 编辑器（支持实时预览、图片拖拽上传/粘贴上传）。

状态管理: 草稿箱、已发布、回收站。

属性设置: 设置自定义 URL (Slug)、SEO 关键词、封面图、是否允许评论、是否置顶。

3.2.3 分类与标签管理

CRUD: 创建、修改、删除分类和标签。

关联统计: 查看每个分类/标签下有多少篇文章。

3.2.4 文件/媒体库

图片管理: 查看所有上传的图片。

上传接口: 支持上传到本地服务器或对象存储 (如 AWS S3, 阿里云 OSS, 七牛云)。

3.2.5 系统设置

基础设置: 博客标题、副标题、Logo、Favicon 设置。

SEO 设置: 全局 Keywords, Description。

个人信息: 修改管理员头像、昵称、简介、社交链接。

4. 数据模型设计概要 (Database Schema)

除了现有的 users, posts, categories，建议扩展以下模型：

Tags (标签表)

id, name, slug, created_at

PostTags (文章-标签关联表)

post_id, tag_id (多对多关系)

Comments (评论表)

id, post_id, parent_id (父评论ID), content, nickname, email, website, is_admin_reply, status (审核状态)

Settings (系统配置表)

key (键), value (值) —— 采用键值对存储系统配置，方便扩展。

5. 非功能需求 (Non-functional Requirements)

5.1 性能要求

首屏加载: 首页首屏加载时间 (FCP) 应小于 1.5秒。

图片优化: 支持 WebP 格式，文章列表页使用缩略图而非原图。

接口响应: 后端 API 响应时间平均小于 200ms。

5.2 安全性

鉴权: 全面采用 JWT 进行身份验证，Token 过期自动刷新。

XSS 防护: 评论内容和 Markdown 渲染需过滤恶意脚本。

密码安全: 数据库存储加盐 Hash (Bcrypt)。

CORS: 严格配置跨域白名单。

5.3 SEO (搜索引擎优化)

语义化标签: 正确使用 H1-H6, Article, Section 等 HTML5 标签。

Meta 标签: 每个页面动态生成 Title 和 Description。

Sitemap: 自动生成 sitemap.xml 供搜索引擎抓取。

伪静态: URL 尽量扁平化，例如 /post/my-first-blog 而非 /post?id=1。

6. 开发路线图 (Roadmap)

第一阶段：MVP (已完成部分)

[x] 后端基础架构 (Gin + GORM)

[x] JWT 登录认证

[x] 文章 CRUD 接口

[x] 前端基础架构 (Vue3 + Pinia)

[x] 登录页与文章列表页

第二阶段：内容核心 (进行中)

[ ] 文章编辑/发布页面 (集成 Markdown 编辑器)

[ ] 文章详情页 (渲染 Markdown, 目录)

[ ] 分类与标签管理功能

[ ] 标签/Tag 数据模型设计与实现

第三阶段：交互与完善

[ ] 评论系统 (数据库设计 + 前后端实现)

[ ] 访客搜索功能

[ ] 图片上传与文件服务

[ ] 仪表盘数据统计

第四阶段：运维与优化

[ ] SEO 优化 (Meta 标签管理)

[ ] Docker 容器化部署

[ ] Nginx 反向代理与 SSL 证书配置